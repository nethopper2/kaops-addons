metadata:
  slug: 'open-webui'
  name: 'Open WebUI'
  description: 'Open WebUI is a self-hosted, offline AI platform supporting LLM runners like Ollama.'
  logoUrlDark: 'https://avatars.githubusercontent.com/u/158137808?s=200&v=4' # TODO
  logoUrlLight: 'https://avatars.githubusercontent.com/u/158137808?s=200&v=4' # TODO
  detailUrl: 'https://openwebui.com/'
  externalUrl: 'https://openwebui.com/'
  installTargets:
    hub: true
    hubRequired: true
    edge: false

forms: 
  - slug: default
    label: 'Open WebUI configuration'
    description: 'Something cool to say about it, maybe'
    steps:
      - slug: 'models'
        variableSlugs:
        - 'modelsToPull'
        - 'gpuEnabled'
        - 'host'
        ui:
          label: 'Models'  
variables:
  - slug: 'modelsToPull'
    name: 'pull'
    path: 'open-webui.ollama.ollama.models.pull'
    forms: ['default']
    ui:
      # TODO: change text to list
      type: 'select'
      options: ['deepseek-r1:1.5b', 'deepseek-r1:14b', 'gemma:2b', 'llama3.2:3b']
      multiple: true
      label: 'LLM Models to Pull'
      placeholder: "llama3.3"
      help: 'Models to pull from: https://ollama.com/search'
      validation: 'required'
  - slug: 'gpuEnabled'
    name: 'gpu'
    path: 'open-webui.ollama.ollama.gpu.enabled'
    forms: ['default']
    ui:
      type: 'toggle'
      label: 'Use GPU'
  - slug: 'host'
    name: 'host'
    path: 'open-webui.ingress.host'
    forms: ['default']
    ui:
      type: 'text'
      label: 'Ingress host'
system:
  - path: 'open-webui.ingress.host'
    value: 'chat.${system.hubCluster.ingressHostname}'
    